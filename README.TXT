
================================================================================
     tsf-vim version 0.0.1 (2013-10-XXX)

     https://github.com/deton/tsf-vim
     deton@m1.interq.or.jp
================================================================================

  普通のWindowsアプリにおいて、擬似的にViエディタのNormal Mode編集操作を
  使えるようにするIMEです。
  IMEまわりの処理はCorvusSKKを流用させてもらっています。


--------------------------------------------------------------------------------
     インストール
--------------------------------------------------------------------------------


・必須ライブラリ のインストール

  32bit版 Windows では x86 の VC++ パッケージのみを、
  64bit版 Windows では x86 と x64 の VC++ パッケージの両方を
  予めインストールして下さい。

  Microsoft Visual C++ 2010 SP1 再頒布可能パッケージ (x86)
  http://www.microsoft.com/ja-jp/download/details.aspx?id=8328

  Microsoft Visual C++ 2010 SP1 再頒布可能パッケージ (x64)
  http://www.microsoft.com/ja-jp/download/details.aspx?id=13523


・tsf-vim のインストール

  tsf-vim-X.Y.Z.7z を展開し、32bit版 Windows では tsfvim-x86.msi、
  64bit版 Windows では tsfvim-x64.msi を実行して下さい。

  （X, Y, Z はバージョン番号）


・Windows 8

  Windows Store アプリで使用するには、設定ファイル（config.xml）に Windows Store
  アプリへのアクセス許可を付加させる必要があります。
  Windows 8 で動作する設定ダイアログでOKボタンを押して保存を行うとアクセス許可の
  付加が自動的に行われます。


・Adobe Reader XI

  Adobe Reader で使用するには、設定ファイル（config.xml）に Adobe Reader への
  アクセス許可を付加させる必要があります。
  設定ダイアログでOKボタンを押して保存を行うとアクセス許可の付加が自動的に
  行われます。


--------------------------------------------------------------------------------
     Vi編集操作
--------------------------------------------------------------------------------

  基本的には、KeyVi同様に、送り付けるキーの置換を行います。
    例: 'h'キーが押されたら、VK_LEFTを送り付け。

  f,t,F,T,),(,w,e,b,W,E,B等、アプリに表示されている文字列を取得して動作する
  必要のあるコマンドの場合、TSF(Text Services Framework)を使用して
  文字列取得を行います。
  TSFに対応していないアプリの場合は、文字列取得にIMR_DOCUMENTFEEDを使用します。
  IMR_DOCUMENTFEEDにも対応していないアプリの場合は、動作しません。


--------------------------------------------------------------------------------
     その他
--------------------------------------------------------------------------------


・ソースに関して

  ・IMEまわりの処理はCorvusSKKを流用させてもらっています。
    http://code.google.com/p/corvus-skk/
  ・Surrounding Text関係は、Mozcから一部ソースを取り込んでいます。
    http://code.google.com/p/mozc/
  ・Vi編集操作に関しては、Vimやnvi-m17nのソースを参考に、
    処理の流れ等はほぼそのまま使っています。

・制限事項、既知の問題

  ・未対応のコマンド多数(Visual mode, text-object等も未対応)
  ・f,t,F,T,w,e,b,W,E,Bでは、カーソル位置前後それぞれ20文字程度以内の移動のみ
    対応。
  ・サロゲートペアや結合文字、IVSの考慮は未対応。

・開発環境

  Visual C++ 2010 Express + SP1
  Windows SDK 7.1
  Windows Driver Kit 7.1.0 (Mozcで使用されているATLのため)
  WiX 3.7
